{
  "version": "5",
  "dialect": "mysql",
  "id": "18102c18-7b9e-42fd-be1b-c0c467b6d8f7",
  "prevId": "4d35e0e3-b111-4515-9b37-712fcf248e1f",
  "tables": {
    "alertLogs": {
      "name": "alertLogs",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "signalId": {
          "name": "signalId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deliveryMethod": {
          "name": "deliveryMethod",
          "type": "enum('email','api','webhook')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "deliveredAt": {
          "name": "deliveredAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "status": {
          "name": "status",
          "type": "enum('sent','failed','bounced')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'sent'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "alertLogs_id": {
          "name": "alertLogs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "alertPreferences": {
      "name": "alertPreferences",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enableSeismic": {
          "name": "enableSeismic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableHealth": {
          "name": "enableHealth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableSentiment": {
          "name": "enableSentiment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableSolar": {
          "name": "enableSolar",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableForex": {
          "name": "enableForex",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableCrypto": {
          "name": "enableCrypto",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "enableGeopolitical": {
          "name": "enableGeopolitical",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "minConfidence": {
          "name": "minConfidence",
          "type": "decimal(4,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0.60'"
        },
        "emailEnabled": {
          "name": "emailEnabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": true
        },
        "emailAddress": {
          "name": "emailAddress",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "digestFrequency": {
          "name": "digestFrequency",
          "type": "enum('instant','hourly','daily')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'instant'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "alertPreferences_id": {
          "name": "alertPreferences_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "apiUsage": {
      "name": "apiUsage",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "method": {
          "name": "method",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "calledAt": {
          "name": "calledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "responseTime": {
          "name": "responseTime",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "statusCode": {
          "name": "statusCode",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "apiUsage_id": {
          "name": "apiUsage_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "signalAccuracy": {
      "name": "signalAccuracy",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "signalType": {
          "name": "signalType",
          "type": "enum('seismic','health','sentiment','solar','forex','crypto','geopolitical')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priorAlpha": {
          "name": "priorAlpha",
          "type": "decimal(10,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'1.0000'"
        },
        "priorBeta": {
          "name": "priorBeta",
          "type": "decimal(10,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'1.0000'"
        },
        "totalSignals": {
          "name": "totalSignals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "correctSignals": {
          "name": "correctSignals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "incorrectSignals": {
          "name": "incorrectSignals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "pendingSignals": {
          "name": "pendingSignals",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "currentAccuracy": {
          "name": "currentAccuracy",
          "type": "decimal(5,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0.5000'"
        },
        "rolling30dCorrect": {
          "name": "rolling30dCorrect",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "rolling30dTotal": {
          "name": "rolling30dTotal",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "rolling30dAccuracy": {
          "name": "rolling30dAccuracy",
          "type": "decimal(5,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0.5000'"
        },
        "confidenceLower": {
          "name": "confidenceLower",
          "type": "decimal(5,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0.0250'"
        },
        "confidenceUpper": {
          "name": "confidenceUpper",
          "type": "decimal(5,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'0.9750'"
        },
        "lastUpdated": {
          "name": "lastUpdated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "signalAccuracy_id": {
          "name": "signalAccuracy_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "signalAccuracy_signalType_unique": {
          "name": "signalAccuracy_signalType_unique",
          "columns": [
            "signalType"
          ]
        }
      },
      "checkConstraint": {}
    },
    "signalValidations": {
      "name": "signalValidations",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "signalId": {
          "name": "signalId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "validatedAt": {
          "name": "validatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "outcome": {
          "name": "outcome",
          "type": "enum('correct','incorrect','expired')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priceAtSignal": {
          "name": "priceAtSignal",
          "type": "decimal(12,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priceAtValidation": {
          "name": "priceAtValidation",
          "type": "decimal(12,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actualReturn": {
          "name": "actualReturn",
          "type": "decimal(8,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "validationMethod": {
          "name": "validationMethod",
          "type": "enum('auto','manual')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'auto'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "signalValidations_id": {
          "name": "signalValidations_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "signals": {
      "name": "signals",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "signalType": {
          "name": "signalType",
          "type": "enum('seismic','health','sentiment','solar','forex','crypto','geopolitical')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sourceUrl": {
          "name": "sourceUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "targetTicker": {
          "name": "targetTicker",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "targetSector": {
          "name": "targetSector",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "direction": {
          "name": "direction",
          "type": "enum('bullish','bearish','neutral')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "strength": {
          "name": "strength",
          "type": "decimal(4,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "confidence": {
          "name": "confidence",
          "type": "decimal(4,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rationale": {
          "name": "rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "rawData": {
          "name": "rawData",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "detectedAt": {
          "name": "detectedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "actualOutcome": {
          "name": "actualOutcome",
          "type": "enum('correct','incorrect','pending')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "actualReturn": {
          "name": "actualReturn",
          "type": "decimal(8,4)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "signals_id": {
          "name": "signals_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "subscriptions": {
      "name": "subscriptions",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "userId": {
          "name": "userId",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tier": {
          "name": "tier",
          "type": "enum('free','pro','enterprise')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'free'"
        },
        "stripeCustomerId": {
          "name": "stripeCustomerId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stripeSubscriptionId": {
          "name": "stripeSubscriptionId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('active','canceled','past_due','trialing')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "currentPeriodStart": {
          "name": "currentPeriodStart",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "currentPeriodEnd": {
          "name": "currentPeriodEnd",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "subscriptions_id": {
          "name": "subscriptions_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "openId": {
          "name": "openId",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "loginMethod": {
          "name": "loginMethod",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('user','admin')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'user'"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "(now())"
        },
        "lastSignedIn": {
          "name": "lastSignedIn",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_id": {
          "name": "users_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "users_openId_unique": {
          "name": "users_openId_unique",
          "columns": [
            "openId"
          ]
        }
      },
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}